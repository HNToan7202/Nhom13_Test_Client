{"ast":null,"code":"var _jsxFileName = \"/Users/hoangtoannguyen/HCMUTE/CCPTPM/Documents/video-editing/client/src/components/HiglightFilter/highlight-filter.jsx\",\n  _s = $RefreshSig$();\nimport { DesktopDatePicker, LocalizationProvider } from \"@mui/lab\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport { HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\nimport { Alert, Autocomplete, Backdrop, Box, Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, Grid, Snackbar, TextField } from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport React, { useCallback, useRef, useState } from \"react\";\nimport TableEditVideo from \"../VideoInput/TableEditVideo\";\nimport { useEffect } from \"react\";\nimport videoEditingApi from \"../../api/video-editing\";\nimport { formatTimeSlice } from \"../VideoInput/video-input\";\nimport ReactPlayer from \"react-player\";\nimport TableReview from \"../VideoInput/TableReview\";\nimport HighlightReview from \"../highlight-review\";\nimport { DialogDraggableLogo, DialogMoreEvent } from \"../flugin\";\nimport CustomizedSlider from \"../VideoInput/Silder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HighlightFilter() {\n  _s();\n  const [bitrate, setBitrate] = useState(\"1000\");\n  const [resolution, setResolution] = useState({\n    label: \"1080p\",\n    value: \"1920:1080\"\n  });\n  const [connection, setConnection] = useState();\n  const [filtered, setFiltered] = useState([]);\n  const [hlSuccess, setHlSuccess] = useState();\n  const [highlights, setHighlights] = useState([]);\n  const [hlDescription, setHlDescription] = useState();\n  const [tournaments, setTournaments] = useState([]);\n  const [tournament, setTournament] = useState([]);\n  const [teams, setTeams] = useState([]);\n  const [team, setTeam] = useState([]);\n  const [opendialog, setOpenDialog] = useState(false);\n  const descriptionElementRef = useRef(null);\n  const [typeDraggable, setTypeDraggable] = useState(\"logo\");\n  const [noti, setNoti] = useState(false);\n  const [message, setMessage] = useState();\n  const [typeNoti, setTypeNoti] = useState();\n  const [fromDate, setFromDate] = useState(new Date());\n  const [toDate, setToDate] = useState(new Date());\n  const [tagName, setTagName] = useState();\n  const [optTagName, setOptTagName] = useState();\n  const [open, setOpen] = useState(false);\n  const [videoSrc, setVideoSrc] = useState([]);\n  const [duration, setDuration] = useState(0);\n  const [isTrimmed, setIsTrimmed] = useState(true);\n  const [rowSelected, setRowSelected] = useState();\n  const [videoPieceTime, setVideoPieceTime] = useState([0, 0]);\n  const [isReady, setIsReady] = useState(false);\n  const videoPlayer = useRef(null);\n  const previousVideoPieceTime = useRef(videoPieceTime);\n  const previousDataRow = useRef(rowSelected);\n  const [eventGallery, setEventGallery] = useState();\n  const [logoGallery, setLogoGallery] = useState();\n  const [openDialogMoreEvent, setOpenDialogMoreEvent] = useState(false);\n  const [openDialogMoreLogo, setOpenDialogMoreLogo] = useState(false);\n  const getHighlight = async () => {\n    try {\n      var response = await videoEditingApi.getHighlightHL();\n      setHighlights(response.data);\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n  useEffect(() => {\n    if (hlSuccess) {\n      const temp = [...highlights];\n      const idx = temp.findIndex(hl => hl.id === hlSuccess.id);\n      temp[idx] = hlSuccess;\n      setHighlights(temp);\n    }\n  }, [hlSuccess]);\n  useEffect(() => {\n    const getTeamNameList = async () => {\n      try {\n        var response = await videoEditingApi.getTeamNameList(tournament === null || tournament === void 0 ? void 0 : tournament.id);\n        setTeams(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    setTeams([]);\n    getTeamNameList();\n  }, [tournament]);\n  const join = async () => {\n    try {\n      const connection1 = new HubConnectionBuilder().withUrl(process.env.REACT_APP_BASE_NOTI_URL).configureLogging(LogLevel.Information).build();\n      connection1.on(\"noti\", (user, message) => {\n        setHlSuccess(JSON.parse(message));\n      });\n      await connection1.start();\n      await connection1.invoke(\"JoinRoom\", {\n        username: localStorage.getItem(\"username\"),\n        room: localStorage.getItem(\"username\")\n      });\n      setConnection(connection1);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    const getTournaments = async () => {\n      try {\n        const response = await videoEditingApi.getTournaments();\n        //const data = [...tempTournaments, ...response.data];\n        setTournaments(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const getTagNameList = async () => {\n      try {\n        var response = await videoEditingApi.getTagNameList();\n        setOptTagName(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const getGallery = async () => {\n      try {\n        var eventG = [];\n        var logoG = [];\n        var responseL = await videoEditingApi.getGallery(0);\n        var responseE = await videoEditingApi.getGallery(1);\n        if (responseE.data.length > 0) {\n          responseE.data.forEach(element => {\n            const data = {\n              event: element.event,\n              file_name: element.file_name,\n              selected: -1,\n              logo: 0\n            };\n            eventG.push(data);\n          });\n        }\n        if (responseL.data.length > 0) {\n          responseL.data.forEach((element, index) => {\n            const data = {\n              label: element.event,\n              file_name: element.file_name,\n              position: {\n                x: 0,\n                y: 0\n              },\n              size: [Math.floor(element.width / 2), Math.floor(element.height / 2)],\n              selected: 0\n            };\n            logoG.push(data);\n          });\n        }\n        setLogoGallery(logoG);\n        setEventGallery(eventG);\n      } catch {}\n    };\n    join();\n    getGallery();\n    getTagNameList();\n    getHighlight();\n    getTournaments();\n    return () => {\n      try {\n        connection.stop();\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }, []);\n  useEffect(() => {\n    var _videoPlayer$current;\n    setVideoPieceTime([rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.startTime, rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.endTime]);\n    (_videoPlayer$current = videoPlayer.current) === null || _videoPlayer$current === void 0 ? void 0 : _videoPlayer$current.seekTo(rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.startTime, \"seconds\");\n  }, [rowSelected]);\n  useEffect(() => {\n    previousVideoPieceTime.current = videoPieceTime;\n  }, [videoPieceTime]);\n  const onTableClick = row => {\n    setRowSelected(row);\n    const newVideoSrc = [...videoSrc];\n    const vdSrc = newVideoSrc.findIndex(vid => vid.file_name === row.file_name);\n    if (row.selected !== 0) {\n      setIsTrimmed(true);\n      newVideoSrc[vdSrc].selected = 1;\n    } else {\n      setIsTrimmed(false);\n    }\n    setVideoSrc(newVideoSrc);\n  };\n  const handleIconRemoveEventClick = row => {\n    const temp = [...filtered];\n    const afterRemove = temp.filter(item => item.file_name !== row.file_name);\n    setFiltered(afterRemove);\n  };\n  const handleEditVideo = () => {\n    const tempFilter = [...videoSrc];\n    const payload = tempFilter.reduce((filtered, video) => {\n      if (video.selected === 1) {\n        filtered.push(video);\n      }\n      return filtered;\n    }, []);\n    setFiltered(payload);\n    setOpenDialog(true);\n  };\n  const handleSearchVideo = e => {\n    e.preventDefault();\n    const body = {\n      dateFrom: fromDate.toLocaleString(\"sv\", {\n        timeZoneName: \"short\"\n      }).substring(0, 10),\n      dateTo: toDate.toLocaleString(\"sv\", {\n        timeZoneName: \"short\"\n      }).substring(0, 10),\n      tagName: tagName.tagName,\n      tournamentId: tournament.id,\n      teams: team\n    };\n    const getJsonFileFromTagName = async () => {\n      try {\n        var response = await videoEditingApi.getJsonFileFromTagName(body);\n        if (response.data.length > 0) {\n          response.data[0].selected = 1;\n          setVideoSrc(response.data);\n          setRowSelected(response.data[0]);\n        } else {\n          setNoti(true);\n          setMessage(\"No data\");\n          setTypeNoti(\"info\");\n        }\n      } catch (error) {\n        setNoti(true);\n        setMessage(error.response.data.description);\n        setTypeNoti(\"error\");\n        console.log(error);\n      }\n    };\n    setVideoSrc([]);\n    setRowSelected(undefined);\n    getJsonFileFromTagName();\n  };\n  const onCheckOne = (checked, record) => {\n    const newVideoSrc = [...videoSrc];\n    const vdSrc = newVideoSrc.findIndex(vid => vid.file_name === record.file_name);\n    newVideoSrc[vdSrc].selected = checked ? 1 : 0;\n    setVideoSrc(newVideoSrc);\n  };\n  const onCheckAll = (checked, filteredInfo) => {\n    var temp = [...videoSrc];\n    console.log(filteredInfo, checked);\n    const payload = temp.reduce((filtered, video) => {\n      var tempVideo = {\n        ...video\n      };\n      if ((filteredInfo === null || filteredInfo === void 0 ? void 0 : filteredInfo.event) !== null || (filteredInfo === null || filteredInfo === void 0 ? void 0 : filteredInfo.level) !== null) {\n        if (filteredInfo.level !== null && filteredInfo.event !== null) {\n          if (filteredInfo.event.includes(tempVideo.event) && filteredInfo.level.includes(tempVideo.level)) {\n            tempVideo.selected = checked ? 1 : 0;\n            filtered.push(tempVideo);\n          } else {\n            tempVideo.selected = 0;\n            filtered.push(tempVideo);\n          }\n          return filtered;\n        } else if (filteredInfo.level === null) {\n          if (filteredInfo.event.includes(tempVideo.event)) {\n            tempVideo.selected = checked ? 1 : 0;\n            filtered.push(tempVideo);\n          } else {\n            tempVideo.selected = 0;\n            filtered.push(tempVideo);\n          }\n          return filtered;\n        } else {\n          if (filteredInfo.level.includes(tempVideo.level)) {\n            tempVideo.selected = checked ? 1 : 0;\n            filtered.push(tempVideo);\n          } else {\n            tempVideo.selected = 0;\n            filtered.push(tempVideo);\n          }\n          return filtered;\n        }\n      } else {\n        tempVideo.selected = checked ? 1 : 0;\n        filtered.push(tempVideo);\n        return filtered;\n      }\n    }, []);\n    setVideoSrc(payload);\n  };\n  const handleSlideChange = (event, newValue) => {\n    let indexSeekTo;\n    if (newValue[0] !== previousVideoPieceTime.current[0]) indexSeekTo = 0;else indexSeekTo = 1;\n    setVideoPieceTime(newValue);\n    const newVideoSrc = [...videoSrc];\n    const a = {\n      ...rowSelected\n    };\n    a.startTime = newValue[0];\n    a.endTime = newValue[1];\n    const vdSrc = newVideoSrc.findIndex(vid => vid.file_name === a.file_name);\n    setRowSelected(a);\n    newVideoSrc[vdSrc] = a;\n    setVideoSrc(newVideoSrc);\n    videoPlayer.current.seekTo(newValue[indexSeekTo], \"seconds\");\n  };\n  const handleDuration = duration => {\n    previousDataRow.current = rowSelected;\n    setDuration(duration);\n  };\n  const onReady = useCallback(rowSelected => {\n    if (!isReady) {\n      videoPlayer.current.seekTo(rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.startTime, \"seconds\");\n      setIsReady(true);\n    }\n  }, [isReady]);\n  const handleClose = () => {\n    setOpenDialog(false);\n  };\n  const handelCheckLogo = (checked, logoSelected) => {\n    const temp = [...logoGallery];\n    const idx = temp.findIndex(item => item.file_name === logoSelected.file_name);\n    temp[idx].selected = checked;\n    setLogoGallery(temp);\n  };\n  const mergeVideoHL = e => {\n    e.preventDefault();\n    const temp = [...logoGallery];\n    const lggg = temp.reduce((logoSent, tempLogo) => {\n      if (tempLogo.selected) {\n        const logoSentItem = {\n          position: tempLogo.position,\n          file_name: tempLogo.file_name,\n          size: tempLogo.size\n        };\n        logoSent.push(logoSentItem);\n      }\n      return logoSent;\n    }, []);\n    const newBitrate = bitrate ? bitrate : \"1000\";\n    setBitrate(newBitrate);\n    const body = {\n      event: filtered,\n      logo: lggg,\n      description: hlDescription,\n      resolution: resolution.value,\n      bitrate: newBitrate.toString()\n    };\n    const mergeHL = async () => {\n      try {\n        await videoEditingApi.mergeHL(body);\n        setOpen(false);\n        setNoti(true);\n        setMessage(\"Consolidation in progress\");\n        setTypeNoti(\"success\");\n        handleClose();\n        getHighlight();\n      } catch (error) {\n        setOpen(false);\n        setNoti(true);\n        setMessage(error.response.data.description);\n        setTypeNoti(\"error\");\n      }\n    };\n    setOpen(true);\n    mergeHL();\n  };\n  const handleCloseEventAndLogo = () => {\n    setOpenDialogMoreEvent(false);\n    setOpenDialogMoreLogo(false);\n  };\n  const onCheck = row => {\n    if (row.selected === 1) {\n      const temp = [...filtered];\n      temp.unshift(row);\n      setFiltered(temp);\n    } else {\n      const temp = [...filtered];\n      var newF = temp.filter(t => t.file_name !== row.file_name);\n      setFiltered(newF);\n    }\n  };\n  const onTrack = (lg, newPos) => {\n    const temp = [...logoGallery];\n    const idx = temp.findIndex(l => l.file_name === lg.file_name);\n    temp[idx].position = newPos;\n    setLogoGallery(temp);\n  };\n  const onResize = (lg, newSize) => {\n    const temp = [...logoGallery];\n    const idx = temp.findIndex(l => l.file_name === lg.file_name);\n    let newNewSize = [...newSize];\n    newNewSize[1] = newSize[0] * temp[idx].size[1] / temp[idx].size[0];\n    temp[idx].size = newNewSize;\n    setLogoGallery(temp);\n  };\n  const handleCheckLogo = (row, e) => {\n    const temp = [...filtered];\n    const idx = temp.findIndex(l => l.file_name === row.file_name);\n    temp[idx].logo = e.target.checked ? 1 : 0;\n    setFiltered(temp);\n  };\n  const handleLogoCheckAll = e => {\n    const temp = [...filtered];\n    temp.forEach(item => {\n      item.logo = e.target.checked ? 1 : 0;\n    });\n    setFiltered(temp);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      open: noti,\n      autoHideDuration: 5000,\n      onClose: () => setNoti(false),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setNoti(false),\n        severity: typeNoti,\n        sx: {\n          width: \"100%\"\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogMoreEvent, {\n      open: openDialogMoreEvent,\n      handleClose: handleCloseEventAndLogo,\n      onCheck: onCheck,\n      eventGallery: eventGallery\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogDraggableLogo, {\n      fileName: filtered[0] ? filtered[0].file_name : \"\",\n      type: typeDraggable,\n      open: openDialogMoreLogo,\n      handleClose: handleCloseEventAndLogo,\n      logo: logoGallery,\n      onTrack: onTrack,\n      onResize: onResize,\n      handelCheckLogo: handelCheckLogo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      sx: {\n        color: \"#fff\",\n        zIndex: theme => theme.zIndex.drawer + 100000000\n      },\n      open: open,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: opendialog,\n      onClose: handleClose,\n      scroll: \"paper\",\n      fullScreen: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"scroll-dialog-description\",\n          ref: descriptionElementRef,\n          tabIndex: -1,\n          minHeight: \"70vh\",\n          children: /*#__PURE__*/_jsxDEV(TableReview, {\n            data: filtered,\n            setData: setFiltered,\n            handleIconRemoveClick: handleIconRemoveEventClick,\n            logo: logoGallery,\n            onCheck: handleCheckLogo,\n            logoCheckAll: handleLogoCheckAll,\n            resolution: resolution,\n            bitrate: bitrate,\n            setResolution: setResolution,\n            setBitrate: setBitrate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          sx: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\"\n          },\n          container: true,\n          component: \"form\",\n          onSubmit: mergeVideoHL,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            sx: {\n              width: \"50%\"\n            },\n            label: \"Enter description for video highlight\",\n            value: hlDescription,\n            onChange: e => setHlDescription(e.target.value),\n            multiline: true,\n            small: true,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"flex-end\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              sx: {\n                backgroundColor: \"#996699\",\n                marginLeft: \"10px\"\n              },\n              variant: \"contained\",\n              onClick: () => {\n                setTypeDraggable(\"logo\");\n                setOpenDialogMoreLogo(true);\n              },\n              children: \"Add Logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              sx: {\n                marginLeft: \"10px\",\n                backgroundColor: \"#996699\"\n              },\n              variant: \"contained\",\n              onClick: () => {\n                setOpenDialogMoreEvent(true);\n              },\n              children: \"Add Event\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              sx: {\n                marginLeft: \"10px\"\n              },\n              variant: \"contained\",\n              type: \"submit\",\n              disabled: (filtered === null || filtered === void 0 ? void 0 : filtered.length) > 0 ? false : true,\n              children: \"Merge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              sx: {\n                backgroundColor: \"red\",\n                marginLeft: \"10px\"\n              },\n              variant: \"contained\",\n              onClick: handleClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      component: \"form\",\n      onSubmit: handleSearchVideo,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2.2,\n        children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n          dateAdapter: AdapterDateFns,\n          children: /*#__PURE__*/_jsxDEV(DesktopDatePicker, {\n            label: \"From date\",\n            inputFormat: \"dd/MM/yyyy\",\n            value: fromDate,\n            onChange: date => setFromDate(date),\n            renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n              ...params,\n              fullWidth: true,\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2.2,\n        children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n          dateAdapter: AdapterDateFns,\n          children: /*#__PURE__*/_jsxDEV(DesktopDatePicker, {\n            label: \"To date\",\n            inputFormat: \"dd/MM/yyyy\",\n            value: toDate,\n            onChange: date => setToDate(date),\n            renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n              ...params,\n              fullWidth: true,\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2.2,\n        children: /*#__PURE__*/_jsxDEV(Autocomplete\n        //multiple\n        , {\n          options: tournaments ? tournaments : [],\n          size: \"small\"\n          //disableCloseOnSelect\n          ,\n          value: tournament || null,\n          fullWidth: true\n          //limitTags={1}\n          ,\n          getOptionLabel: option => option[\"name\"] || \"\",\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            ...params,\n            label: \"League name\",\n            placeholder: \"Select league name\",\n            required: true,\n            inputProps: {\n              ...params.inputProps\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 15\n          }, this),\n          onChange: (e, value) => setTournament(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2.2,\n        children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n          multiple: true,\n          options: teams ? teams : [],\n          size: \"small\",\n          value: team || null,\n          disableCloseOnSelect: true,\n          fullWidth: true,\n          limitTags: 1,\n          multiline: false,\n          getOptionLabel: option => option[\"teamName\"] || \"\",\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            ...params,\n            label: \"Team\",\n            inputProps: {\n              ...params.inputProps\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this),\n          onChange: (e, value) => setTeam(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2.2,\n        children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n          options: optTagName,\n          size: \"small\",\n          value: tagName || null,\n          fullWidth: true,\n          getOptionLabel: option => option[\"tagName\"] || \"\",\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            ...params,\n            label: \"Event Name\",\n            placeholder: \"Select Event Name\",\n            required: true,\n            inputProps: {\n              ...params.inputProps\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 15\n          }, this),\n          onChange: (e, value) => setTagName(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 1,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          type: \"submit\",\n          color: \"success\",\n          children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"1.5px\",\n            backgroundColor: \"grey\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        display: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(TableEditVideo, {\n            data: videoSrc,\n            height: \"55vh\",\n            onCheckOne: onCheckOne,\n            onCheckAll: onCheckAll,\n            onTableClick: onTableClick,\n            buttonReview: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: handleEditVideo,\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 11\n        }, this), rowSelected && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            display: \"flex\",\n            justifyContent: \"center\",\n            children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n              ref: videoPlayer,\n              url: rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.file_name,\n              onDuration: handleDuration,\n              controls: true,\n              onReady: () => onReady(rowSelected),\n              playing: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sx: {\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"100%\",\n                maxWidth: \"720px\",\n                marginTop: \"20px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: \"flex\"\n                },\n                children: /*#__PURE__*/_jsxDEV(CustomizedSlider, {\n                  duration: duration,\n                  videoPieceTime: videoPieceTime,\n                  handleSlideChange: handleSlideChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  marginBottom: 2,\n                  display: \"flex\",\n                  justifyContent: \"space-between\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: formatTimeSlice(rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.startTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 797,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: formatTimeSlice(rowSelected === null || rowSelected === void 0 ? void 0 : rowSelected.endTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(HighlightReview, {\n          getHighlight: getHighlight,\n          highlights: highlights,\n          mode: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(HighlightFilter, \"Ts8lLh/xI6vQjvoQdbg47uVv15w=\");\n_c = HighlightFilter;\nexport default HighlightFilter;\nvar _c;\n$RefreshReg$(_c, \"HighlightFilter\");","map":{"version":3,"names":["DesktopDatePicker","LocalizationProvider","AdapterDateFns","HubConnectionBuilder","LogLevel","Alert","Autocomplete","Backdrop","Box","Button","CircularProgress","Dialog","DialogActions","DialogContent","DialogContentText","Grid","Snackbar","TextField","SearchIcon","React","useCallback","useRef","useState","TableEditVideo","useEffect","videoEditingApi","formatTimeSlice","ReactPlayer","TableReview","HighlightReview","DialogDraggableLogo","DialogMoreEvent","CustomizedSlider","jsxDEV","_jsxDEV","Fragment","_Fragment","HighlightFilter","_s","bitrate","setBitrate","resolution","setResolution","label","value","connection","setConnection","filtered","setFiltered","hlSuccess","setHlSuccess","highlights","setHighlights","hlDescription","setHlDescription","tournaments","setTournaments","tournament","setTournament","teams","setTeams","team","setTeam","opendialog","setOpenDialog","descriptionElementRef","typeDraggable","setTypeDraggable","noti","setNoti","message","setMessage","typeNoti","setTypeNoti","fromDate","setFromDate","Date","toDate","setToDate","tagName","setTagName","optTagName","setOptTagName","open","setOpen","videoSrc","setVideoSrc","duration","setDuration","isTrimmed","setIsTrimmed","rowSelected","setRowSelected","videoPieceTime","setVideoPieceTime","isReady","setIsReady","videoPlayer","previousVideoPieceTime","previousDataRow","eventGallery","setEventGallery","logoGallery","setLogoGallery","openDialogMoreEvent","setOpenDialogMoreEvent","openDialogMoreLogo","setOpenDialogMoreLogo","getHighlight","response","getHighlightHL","data","error","console","log","temp","idx","findIndex","hl","id","getTeamNameList","join","connection1","withUrl","process","env","REACT_APP_BASE_NOTI_URL","configureLogging","Information","build","on","user","JSON","parse","start","invoke","username","localStorage","getItem","room","e","getTournaments","getTagNameList","getGallery","eventG","logoG","responseL","responseE","length","forEach","element","event","file_name","selected","logo","push","index","position","x","y","size","Math","floor","width","height","stop","_videoPlayer$current","startTime","endTime","current","seekTo","onTableClick","row","newVideoSrc","vdSrc","vid","handleIconRemoveEventClick","afterRemove","filter","item","handleEditVideo","tempFilter","payload","reduce","video","handleSearchVideo","preventDefault","body","dateFrom","toLocaleString","timeZoneName","substring","dateTo","tournamentId","getJsonFileFromTagName","description","undefined","onCheckOne","checked","record","onCheckAll","filteredInfo","tempVideo","level","includes","handleSlideChange","newValue","indexSeekTo","a","handleDuration","onReady","handleClose","handelCheckLogo","logoSelected","mergeVideoHL","lggg","logoSent","tempLogo","logoSentItem","newBitrate","toString","mergeHL","handleCloseEventAndLogo","onCheck","unshift","newF","t","onTrack","lg","newPos","l","onResize","newSize","newNewSize","handleCheckLogo","target","handleLogoCheckAll","children","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","sx","fileName","_jsxFileName","lineNumber","columnNumber","type","color","zIndex","theme","drawer","scroll","fullScreen","dividers","ref","tabIndex","minHeight","setData","handleIconRemoveClick","logoCheckAll","display","justifyContent","alignItems","container","component","onSubmit","onChange","multiline","small","required","style","backgroundColor","marginLeft","variant","onClick","disabled","spacing","xs","dateAdapter","inputFormat","date","renderInput","params","fullWidth","options","getOptionLabel","option","placeholder","inputProps","multiple","disableCloseOnSelect","limitTags","buttonReview","url","onDuration","controls","playing","maxWidth","marginTop","marginBottom","mode","_c","$RefreshReg$"],"sources":["/Users/hoangtoannguyen/HCMUTE/CCPTPM/Documents/video-editing/client/src/components/HiglightFilter/highlight-filter.jsx"],"sourcesContent":["import { DesktopDatePicker, LocalizationProvider } from \"@mui/lab\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport { HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\nimport {\n  Alert,\n  Autocomplete,\n  Backdrop,\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  Grid,\n  Snackbar,\n  TextField,\n} from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport React, { useCallback, useRef, useState } from \"react\";\nimport TableEditVideo from \"../VideoInput/TableEditVideo\";\nimport { useEffect } from \"react\";\nimport videoEditingApi from \"../../api/video-editing\";\nimport { formatTimeSlice } from \"../VideoInput/video-input\";\nimport ReactPlayer from \"react-player\";\nimport TableReview from \"../VideoInput/TableReview\";\nimport HighlightReview from \"../highlight-review\";\nimport { DialogDraggableLogo, DialogMoreEvent } from \"../flugin\";\nimport CustomizedSlider from \"../VideoInput/Silder\";\n\nfunction HighlightFilter() {\n  const [bitrate, setBitrate] = useState(\"1000\");\n  const [resolution, setResolution] = useState({\n    label: \"1080p\",\n    value: \"1920:1080\",\n  });\n\n  const [connection, setConnection] = useState();\n  const [filtered, setFiltered] = useState([]);\n\n  const [hlSuccess, setHlSuccess] = useState();\n\n  const [highlights, setHighlights] = useState([]);\n  const [hlDescription, setHlDescription] = useState();\n\n  const [tournaments, setTournaments] = useState([]);\n  const [tournament, setTournament] = useState([]);\n  const [teams, setTeams] = useState([]);\n  const [team, setTeam] = useState([]);\n\n  const [opendialog, setOpenDialog] = useState(false);\n  const descriptionElementRef = useRef(null);\n  const [typeDraggable, setTypeDraggable] = useState(\"logo\");\n  const [noti, setNoti] = useState(false);\n  const [message, setMessage] = useState();\n  const [typeNoti, setTypeNoti] = useState();\n\n  const [fromDate, setFromDate] = useState(new Date());\n  const [toDate, setToDate] = useState(new Date());\n  const [tagName, setTagName] = useState();\n  const [optTagName, setOptTagName] = useState();\n\n  const [open, setOpen] = useState(false);\n\n  const [videoSrc, setVideoSrc] = useState([]);\n\n  const [duration, setDuration] = useState(0);\n  const [isTrimmed, setIsTrimmed] = useState(true);\n  const [rowSelected, setRowSelected] = useState();\n  const [videoPieceTime, setVideoPieceTime] = useState([0, 0]);\n\n  const [isReady, setIsReady] = useState(false);\n\n  const videoPlayer = useRef(null);\n  const previousVideoPieceTime = useRef(videoPieceTime);\n  const previousDataRow = useRef(rowSelected);\n\n  const [eventGallery, setEventGallery] = useState();\n  const [logoGallery, setLogoGallery] = useState();\n  const [openDialogMoreEvent, setOpenDialogMoreEvent] = useState(false);\n  const [openDialogMoreLogo, setOpenDialogMoreLogo] = useState(false);\n\n  const getHighlight = async () => {\n    try {\n      var response = await videoEditingApi.getHighlightHL();\n      setHighlights(response.data);\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  useEffect(() => {\n    if (hlSuccess) {\n      const temp = [...highlights];\n      const idx = temp.findIndex((hl) => hl.id === hlSuccess.id);\n      temp[idx] = hlSuccess;\n      setHighlights(temp);\n    }\n  }, [hlSuccess]);\n\n  useEffect(() => {\n    const getTeamNameList = async () => {\n      try {\n        var response = await videoEditingApi.getTeamNameList(tournament?.id);\n        setTeams(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    setTeams([]);\n    getTeamNameList();\n  }, [tournament]);\n  const join = async () => {\n    try {\n      const connection1 = new HubConnectionBuilder()\n        .withUrl(process.env.REACT_APP_BASE_NOTI_URL)\n        .configureLogging(LogLevel.Information)\n        .build();\n\n      connection1.on(\"noti\", (user, message) => {\n        setHlSuccess(JSON.parse(message));\n      });\n      await connection1.start();\n      await connection1.invoke(\"JoinRoom\", {\n        username: localStorage.getItem(\"username\"),\n        room: localStorage.getItem(\"username\"),\n      });\n      setConnection(connection1);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    const getTournaments = async () => {\n      try {\n        const response = await videoEditingApi.getTournaments();\n        //const data = [...tempTournaments, ...response.data];\n        setTournaments(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const getTagNameList = async () => {\n      try {\n        var response = await videoEditingApi.getTagNameList();\n        setOptTagName(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const getGallery = async () => {\n      try {\n        var eventG = [];\n        var logoG = [];\n        var responseL = await videoEditingApi.getGallery(0);\n        var responseE = await videoEditingApi.getGallery(1);\n        if (responseE.data.length > 0) {\n          responseE.data.forEach((element) => {\n            const data = {\n              event: element.event,\n              file_name: element.file_name,\n              selected: -1,\n              logo: 0,\n            };\n            eventG.push(data);\n          });\n        }\n        if (responseL.data.length > 0) {\n          responseL.data.forEach((element, index) => {\n            const data = {\n              label: element.event,\n              file_name: element.file_name,\n              position: { x: 0, y: 0 },\n              size: [\n                Math.floor(element.width / 2),\n                Math.floor(element.height / 2),\n              ],\n              selected: 0,\n            };\n            logoG.push(data);\n          });\n        }\n        setLogoGallery(logoG);\n        setEventGallery(eventG);\n      } catch {}\n    };\n\n    join();\n    getGallery();\n    getTagNameList();\n    getHighlight();\n    getTournaments();\n    return () => {\n      try {\n        connection.stop();\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    setVideoPieceTime([rowSelected?.startTime, rowSelected?.endTime]);\n    videoPlayer.current?.seekTo(rowSelected?.startTime, \"seconds\");\n  }, [rowSelected]);\n\n  useEffect(() => {\n    previousVideoPieceTime.current = videoPieceTime;\n  }, [videoPieceTime]);\n\n  const onTableClick = (row) => {\n    setRowSelected(row);\n    const newVideoSrc = [...videoSrc];\n    const vdSrc = newVideoSrc.findIndex(\n      (vid) => vid.file_name === row.file_name\n    );\n    if (row.selected !== 0) {\n      setIsTrimmed(true);\n      newVideoSrc[vdSrc].selected = 1;\n    } else {\n      setIsTrimmed(false);\n    }\n    setVideoSrc(newVideoSrc);\n  };\n\n  const handleIconRemoveEventClick = (row) => {\n    const temp = [...filtered];\n    const afterRemove = temp.filter((item) => item.file_name !== row.file_name);\n    setFiltered(afterRemove);\n  };\n\n  const handleEditVideo = () => {\n    const tempFilter = [...videoSrc];\n    const payload = tempFilter.reduce((filtered, video) => {\n      if (video.selected === 1) {\n        filtered.push(video);\n      }\n      return filtered;\n    }, []);\n    setFiltered(payload);\n    setOpenDialog(true);\n  };\n\n  const handleSearchVideo = (e) => {\n    e.preventDefault();\n    const body = {\n      dateFrom: fromDate\n        .toLocaleString(\"sv\", { timeZoneName: \"short\" })\n        .substring(0, 10),\n      dateTo: toDate\n        .toLocaleString(\"sv\", { timeZoneName: \"short\" })\n        .substring(0, 10),\n      tagName: tagName.tagName,\n      tournamentId: tournament.id,\n      teams: team,\n    };\n    const getJsonFileFromTagName = async () => {\n      try {\n        var response = await videoEditingApi.getJsonFileFromTagName(body);\n        if (response.data.length > 0) {\n          response.data[0].selected = 1;\n          setVideoSrc(response.data);\n          setRowSelected(response.data[0]);\n        } else {\n          setNoti(true);\n          setMessage(\"No data\");\n          setTypeNoti(\"info\");\n        }\n      } catch (error) {\n        setNoti(true);\n        setMessage(error.response.data.description);\n        setTypeNoti(\"error\");\n        console.log(error);\n      }\n    };\n    setVideoSrc([]);\n    setRowSelected(undefined);\n    getJsonFileFromTagName();\n  };\n\n  const onCheckOne = (checked, record) => {\n    const newVideoSrc = [...videoSrc];\n    const vdSrc = newVideoSrc.findIndex(\n      (vid) => vid.file_name === record.file_name\n    );\n    newVideoSrc[vdSrc].selected = checked ? 1 : 0;\n    setVideoSrc(newVideoSrc);\n  };\n\n  const onCheckAll = (checked, filteredInfo) => {\n    var temp = [...videoSrc];\n    console.log(filteredInfo, checked);\n    const payload = temp.reduce((filtered, video) => {\n      var tempVideo = { ...video };\n\n      if (filteredInfo?.event !== null || filteredInfo?.level !== null) {\n        if (filteredInfo.level !== null && filteredInfo.event !== null) {\n          if (\n            filteredInfo.event.includes(tempVideo.event) &&\n            filteredInfo.level.includes(tempVideo.level)\n          ) {\n            tempVideo.selected = checked ? 1 : 0;\n            filtered.push(tempVideo);\n          } else {\n            tempVideo.selected = 0;\n            filtered.push(tempVideo);\n          }\n          return filtered;\n        } else if (filteredInfo.level === null) {\n          if (filteredInfo.event.includes(tempVideo.event)) {\n            tempVideo.selected = checked ? 1 : 0;\n            filtered.push(tempVideo);\n          } else {\n            tempVideo.selected = 0;\n            filtered.push(tempVideo);\n          }\n          return filtered;\n        } else {\n          if (filteredInfo.level.includes(tempVideo.level)) {\n            tempVideo.selected = checked ? 1 : 0;\n            filtered.push(tempVideo);\n          } else {\n            tempVideo.selected = 0;\n            filtered.push(tempVideo);\n          }\n          return filtered;\n        }\n      } else {\n        tempVideo.selected = checked ? 1 : 0;\n        filtered.push(tempVideo);\n        return filtered;\n      }\n    }, []);\n\n    setVideoSrc(payload);\n  };\n\n  const handleSlideChange = (event, newValue) => {\n    let indexSeekTo;\n    if (newValue[0] !== previousVideoPieceTime.current[0]) indexSeekTo = 0;\n    else indexSeekTo = 1;\n    setVideoPieceTime(newValue);\n    const newVideoSrc = [...videoSrc];\n    const a = { ...rowSelected };\n    a.startTime = newValue[0];\n    a.endTime = newValue[1];\n    const vdSrc = newVideoSrc.findIndex((vid) => vid.file_name === a.file_name);\n    setRowSelected(a);\n    newVideoSrc[vdSrc] = a;\n    setVideoSrc(newVideoSrc);\n    videoPlayer.current.seekTo(newValue[indexSeekTo], \"seconds\");\n  };\n\n  const handleDuration = (duration) => {\n    previousDataRow.current = rowSelected;\n    setDuration(duration);\n  };\n\n  const onReady = useCallback(\n    (rowSelected) => {\n      if (!isReady) {\n        videoPlayer.current.seekTo(rowSelected?.startTime, \"seconds\");\n        setIsReady(true);\n      }\n    },\n    [isReady]\n  );\n\n  const handleClose = () => {\n    setOpenDialog(false);\n  };\n\n  const handelCheckLogo = (checked, logoSelected) => {\n    const temp = [...logoGallery];\n    const idx = temp.findIndex(\n      (item) => item.file_name === logoSelected.file_name\n    );\n    temp[idx].selected = checked;\n    setLogoGallery(temp);\n  };\n\n  const mergeVideoHL = (e) => {\n    e.preventDefault();\n    const temp = [...logoGallery];\n\n    const lggg = temp.reduce((logoSent, tempLogo) => {\n      if (tempLogo.selected) {\n        const logoSentItem = {\n          position: tempLogo.position,\n          file_name: tempLogo.file_name,\n          size: tempLogo.size,\n        };\n        logoSent.push(logoSentItem);\n      }\n      return logoSent;\n    }, []);\n    const newBitrate = bitrate ? bitrate : \"1000\";\n    setBitrate(newBitrate);\n    const body = {\n      event: filtered,\n      logo: lggg,\n      description: hlDescription,\n      resolution: resolution.value,\n      bitrate: newBitrate.toString(),\n    };\n    const mergeHL = async () => {\n      try {\n        await videoEditingApi.mergeHL(body);\n        setOpen(false);\n        setNoti(true);\n        setMessage(\"Consolidation in progress\");\n        setTypeNoti(\"success\");\n        handleClose();\n        getHighlight();\n      } catch (error) {\n        setOpen(false);\n        setNoti(true);\n        setMessage(error.response.data.description);\n        setTypeNoti(\"error\");\n      }\n    };\n    setOpen(true);\n    mergeHL();\n  };\n\n  const handleCloseEventAndLogo = () => {\n    setOpenDialogMoreEvent(false);\n    setOpenDialogMoreLogo(false);\n  };\n\n  const onCheck = (row) => {\n    if (row.selected === 1) {\n      const temp = [...filtered];\n      temp.unshift(row);\n      setFiltered(temp);\n    } else {\n      const temp = [...filtered];\n      var newF = temp.filter((t) => t.file_name !== row.file_name);\n      setFiltered(newF);\n    }\n  };\n\n  const onTrack = (lg, newPos) => {\n    const temp = [...logoGallery];\n    const idx = temp.findIndex((l) => l.file_name === lg.file_name);\n    temp[idx].position = newPos;\n    setLogoGallery(temp);\n  };\n\n  const onResize = (lg, newSize) => {\n    const temp = [...logoGallery];\n    const idx = temp.findIndex((l) => l.file_name === lg.file_name);\n    let newNewSize = [...newSize];\n    newNewSize[1] = (newSize[0] * temp[idx].size[1]) / temp[idx].size[0];\n    temp[idx].size = newNewSize;\n    setLogoGallery(temp);\n  };\n  const handleCheckLogo = (row, e) => {\n    const temp = [...filtered];\n    const idx = temp.findIndex((l) => l.file_name === row.file_name);\n    temp[idx].logo = e.target.checked ? 1 : 0;\n    setFiltered(temp);\n  };\n\n  const handleLogoCheckAll = (e) => {\n    const temp = [...filtered];\n    temp.forEach((item) => {\n      item.logo = e.target.checked ? 1 : 0;\n    });\n    setFiltered(temp);\n  };\n  return (\n    <>\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        open={noti}\n        autoHideDuration={5000}\n        onClose={() => setNoti(false)}\n      >\n        <Alert\n          onClose={() => setNoti(false)}\n          severity={typeNoti}\n          sx={{ width: \"100%\" }}\n        >\n          {message}\n        </Alert>\n      </Snackbar>\n\n      <DialogMoreEvent\n        open={openDialogMoreEvent}\n        handleClose={handleCloseEventAndLogo}\n        onCheck={onCheck}\n        eventGallery={eventGallery}\n      />\n\n      <DialogDraggableLogo\n        fileName={filtered[0] ? filtered[0].file_name : \"\"}\n        type={typeDraggable}\n        open={openDialogMoreLogo}\n        handleClose={handleCloseEventAndLogo}\n        logo={logoGallery}\n        onTrack={onTrack}\n        onResize={onResize}\n        handelCheckLogo={handelCheckLogo}\n      />\n\n      <Backdrop\n        sx={{\n          color: \"#fff\",\n          zIndex: (theme) => theme.zIndex.drawer + 100000000,\n        }}\n        open={open}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n\n      <Dialog open={opendialog} onClose={handleClose} scroll=\"paper\" fullScreen>\n        <DialogContent dividers={true}>\n          <DialogContentText\n            id=\"scroll-dialog-description\"\n            ref={descriptionElementRef}\n            tabIndex={-1}\n            minHeight=\"70vh\"\n          >\n            <TableReview\n              data={filtered}\n              setData={setFiltered}\n              handleIconRemoveClick={handleIconRemoveEventClick}\n              logo={logoGallery}\n              onCheck={handleCheckLogo}\n              logoCheckAll={handleLogoCheckAll}\n              resolution={resolution}\n              bitrate={bitrate}\n              setResolution={setResolution}\n              setBitrate={setBitrate}\n            />\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Grid\n            sx={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n            }}\n            container\n            component=\"form\"\n            onSubmit={mergeVideoHL}\n          >\n            <TextField\n              sx={{\n                width: \"50%\",\n              }}\n              label=\"Enter description for video highlight\"\n              value={hlDescription}\n              onChange={(e) => setHlDescription(e.target.value)}\n              multiline\n              small\n              required\n            />\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n              {/* <Button\n                sx={{\n                  backgroundColor: \"#996699\",\n                }}\n                variant=\"contained\"\n                onClick={() => {\n                  setTypeDraggable(\"frame\")\n                  setOpenDialogMoreLogo(true);\n                }}\n              >\n                Add Frame\n              </Button> */}\n              <Button\n                sx={{\n                  backgroundColor: \"#996699\",\n                  marginLeft: \"10px\",\n                }}\n                variant=\"contained\"\n                onClick={() => {\n                  setTypeDraggable(\"logo\");\n                  setOpenDialogMoreLogo(true);\n                }}\n              >\n                Add Logo\n              </Button>\n\n              <Button\n                sx={{\n                  marginLeft: \"10px\",\n                  backgroundColor: \"#996699\",\n                }}\n                variant=\"contained\"\n                onClick={() => {\n                  setOpenDialogMoreEvent(true);\n                }}\n              >\n                Add Event\n              </Button>\n\n              <Button\n                sx={{\n                  marginLeft: \"10px\",\n                }}\n                variant=\"contained\"\n                type=\"submit\"\n                disabled={filtered?.length > 0 ? false : true}\n              >\n                Merge\n              </Button>\n              <Button\n                sx={{\n                  backgroundColor: \"red\",\n                  marginLeft: \"10px\",\n                }}\n                variant=\"contained\"\n                onClick={handleClose}\n              >\n                Cancel\n              </Button>\n            </div>\n          </Grid>\n        </DialogActions>\n      </Dialog>\n\n      <Grid container spacing={2} component=\"form\" onSubmit={handleSearchVideo}>\n        <Grid item xs={2.2}>\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <DesktopDatePicker\n              label=\"From date\"\n              inputFormat=\"dd/MM/yyyy\"\n              value={fromDate}\n              onChange={(date) => setFromDate(date)}\n              renderInput={(params) => (\n                <TextField {...params} fullWidth size=\"small\" />\n              )}\n            />\n          </LocalizationProvider>\n        </Grid>\n        <Grid item xs={2.2}>\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <DesktopDatePicker\n              label=\"To date\"\n              inputFormat=\"dd/MM/yyyy\"\n              value={toDate}\n              onChange={(date) => setToDate(date)}\n              renderInput={(params) => (\n                <TextField {...params} fullWidth size=\"small\" />\n              )}\n            />\n          </LocalizationProvider>\n        </Grid>\n        <Grid item xs={2.2}>\n          <Autocomplete\n            //multiple\n            options={tournaments ? tournaments : []}\n            size=\"small\"\n            //disableCloseOnSelect\n            value={tournament || null}\n            fullWidth\n            //limitTags={1}\n            getOptionLabel={(option) => option[\"name\"] || \"\"}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"League name\"\n                placeholder={\"Select league name\"}\n                required\n                inputProps={{\n                  ...params.inputProps,\n                }}\n              />\n            )}\n            onChange={(e, value) => setTournament(value)}\n          />\n        </Grid>\n        <Grid item xs={2.2}>\n          <Autocomplete\n            multiple\n            options={teams ? teams : []}\n            size=\"small\"\n            value={team || null}\n            disableCloseOnSelect\n            fullWidth\n            limitTags={1}\n            multiline={false}\n            getOptionLabel={(option) => option[\"teamName\"] || \"\"}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"Team\"\n                inputProps={{\n                  ...params.inputProps,\n                }}\n              />\n            )}\n            onChange={(e, value) => setTeam(value)}\n          />\n        </Grid>\n        <Grid item xs={2.2}>\n          <Autocomplete\n            options={optTagName}\n            size=\"small\"\n            value={tagName || null}\n            fullWidth\n            getOptionLabel={(option) => option[\"tagName\"] || \"\"}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"Event Name\"\n                placeholder=\"Select Event Name\"\n                required\n                inputProps={{ ...params.inputProps }}\n              />\n            )}\n            onChange={(e, value) => setTagName(value)}\n          />\n        </Grid>\n        <Grid item xs={1}>\n          <Button variant=\"contained\" type=\"submit\" color=\"success\">\n            <SearchIcon />\n          </Button>\n        </Grid>\n        <Grid item xs={12}>\n          <div style={{ height: \"1.5px\", backgroundColor: \"grey\" }}></div>\n        </Grid>\n        <Grid item xs={12} display=\"flex\">\n          <Grid item xs={6}>\n            <TableEditVideo\n              data={videoSrc}\n              height=\"55vh\"\n              onCheckOne={onCheckOne}\n              onCheckAll={onCheckAll}\n              onTableClick={onTableClick}\n              buttonReview={\n                <Button variant=\"contained\" onClick={handleEditVideo}>\n                  View\n                </Button>\n              }\n            />\n          </Grid>\n          {rowSelected && (\n            <Grid item xs={6}>\n              <Grid item xs={12} display=\"flex\" justifyContent=\"center\">\n                <ReactPlayer\n                  ref={videoPlayer}\n                  url={rowSelected?.file_name}\n                  onDuration={handleDuration}\n                  controls\n                  onReady={() => onReady(rowSelected)}\n                  playing={true}\n                />\n              </Grid>\n\n              <Grid\n                item\n                xs={12}\n                sx={{ display: \"flex\", justifyContent: \"center\" }}\n              >\n                <div\n                  style={{\n                    width: \"100%\",\n                    maxWidth: \"720px\",\n                    marginTop: \"20px\",\n                  }}\n                >\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                    }}\n                  >\n                    <CustomizedSlider\n                      duration={duration}\n                      videoPieceTime={videoPieceTime}\n                      handleSlideChange={handleSlideChange}\n                    />\n                    {/* <Slider\n                      min={0}\n                      max={duration}\n                      value={videoPieceTime}\n                      valueLabelDisplay=\"auto\"\n                      valueLabelFormat={(s) => {\n                        return formatTimeSlice(s);\n                      }}\n                      onChange={handleSlideChange}\n                    /> */}\n                  </Box>\n                  <Box\n                    sx={{\n                      marginBottom: 2,\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <div>{formatTimeSlice(rowSelected?.startTime)}</div>\n                    <div>{formatTimeSlice(rowSelected?.endTime)}</div>\n                  </Box>\n                </div>\n              </Grid>\n            </Grid>\n          )}\n        </Grid>\n        <Grid item xs={12}>\n          <HighlightReview\n            getHighlight={getHighlight}\n            highlights={highlights}\n            mode={2}\n          />\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n\nexport default HighlightFilter;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}